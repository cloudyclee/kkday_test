(function(e){function t(t){for(var r,o,c=t[0],u=t[1],s=t[2],d=0,g=[];d<c.length;d++)o=c[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&g.push(i[o][0]),i[o]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);l&&l(t);while(g.length)g.shift()();return a.push.apply(a,s||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,c=1;c<n.length;c++){var u=n[c];0!==i[u]&&(r=!1)}r&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},i={app:0},a=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/kkday_test/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var l=u;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),i={id:"stories"},a={class:"story"};function o(e,t,n,o,c,u){var s=Object(r["t"])("LoadingFrame"),l=Object(r["t"])("Button"),d=Object(r["t"])("Story");return Object(r["n"])(),Object(r["g"])(r["a"],null,[Object(r["j"])(r["b"],{name:"loadingFrame"},{default:Object(r["x"])((function(){return[Object(r["j"])(s,{isLoading:o.isLoading},null,8,["isLoading"])]})),_:1}),Object(r["h"])("div",{class:"blur_bg",style:Object(r["m"])({backgroundImage:"url('".concat(o.imgUrl,"')")})},null,4),Object(r["h"])("div",i,[Object(r["j"])(l),Object(r["h"])("div",a,[(Object(r["n"])(!0),Object(r["g"])(r["a"],null,Object(r["s"])(o.imgArr,(function(e){return Object(r["n"])(),Object(r["e"])(d,{key:e,img:e},null,8,["img"])})),128))])])],64)}var c=n("5502"),u=n("1da1"),s=(n("96cf"),n("d3b7"),n("d81d"),n("7db0"),[{id:"84b496feea04306e1bf8ec5ff8e72a60",imageUrl:"https://i.imgur.com/XgJFuRN.jpg",text:"1. Top Things To Do In Ooty",duration:3e3,weight:1},{id:"1cc6936b3c62dfbf138dec9a231d178b",imageUrl:"https://i.imgur.com/Uvo0Rz1.jpg",text:"2. Surrounded by the Nilgiris and stunning lakes and forests, the resort town of Ooty in Tamil Nadu is a popular getaway in South India",duration:4e3,weight:2},{id:"4705c2d04b9ea2a5ce13ef95f529f9f5",imageUrl:"https://i.imgur.com/Z7pPmw3.jpg",text:"3. A fun way to explore this hill station is to hop on a toy train that will take you across the countryside",duration:5e3,weight:3},{id:"727f86e4427f39efcd58ee8e08db05ee",imageUrl:"https://i.imgur.com/fHQjxkO.jpg",text:"4. Once a British Raj summer resort, you can still find Colonial influences in Ooty's many historical buildings such as St. Stephen's Church",duration:3e3,weight:1},{id:"2228d31bf9cf093b8bdd1af6a31abe40",imageUrl:"https://i.imgur.com/yK81VNq.jpg",text:"5. Ooty Lake is a must-visit to enjoy a peaceful boat ride. A major tourist attraction, this artificial lake was constructed in 1824",duration:4e3,weight:2},{id:"2709468982b65ccefca7f8c9b93386fa",imageUrl:"https://i.imgur.com/eyjQqfO.jpg",text:"6. To surround yourself with beauty, head to Ooty's Rose Garden in Vijayanagaram, which is the largest rose garden in India",duration:5e3,weight:3},{id:"7eb2f186e81e3a62f79073922c8f92e5",imageUrl:"https://i.imgur.com/JmDbu3a.jpg",text:"7. If Rose Garden is not enough, then explore the Botanical Garden that houses a wide range of exotic and indigenous plants, shrubs, trees",duration:3e3,weight:1},{id:"8ba13af5525e1f087cb98fe47fe0bcc8",imageUrl:"https://i.imgur.com/WAR0oOy.jpg",text:"8. About 28km away from Ooty town is the stunning Avalanche Lake. Trek around to explore the region and enjoy a picnic by the lake",duration:4e3,weight:2},{id:"4b64ead14354d4d21e8793cc7e6941d0",imageUrl:"https://i.imgur.com/lAZQ7JW.jpg",text:"9. While there are many treats to indulge in, you cannot miss picking a range of delicious hand-made Ooty chocolates",duration:4e3,weight:3},{id:"2f24a80a2110029153151fadbb54f585",imageUrl:"https://i.imgur.com/E8OBfBA.jpg",text:"10. Delhi is home to some of the finest monuments with Islamic architecture like Humayun's Tomb and Qutub Minar",duration:3e3,weight:1},{id:"d139d287966901328fd0e2eec348996b",imageUrl:"https://i.imgur.com/wsBg4T9.jpg",text:"11. Delhi is famous for its street food culture with lip smacking delicacies like aloo tikkis, papdi chaat and many more ",duration:3e3,weight:2},{id:"1217eb1e172df4fefbedd29581696287",imageUrl:"https://i.imgur.com/9gen3pL.jpg",text:"12. Connaught Place is truly the heart of Delhi that still carries old-school charm with famous shops and restaurants around ",duration:4e3,weight:3},{id:"116be6e8523f60ed7c51e56e846df10e",imageUrl:"https://i.imgur.com/vSFWZ4k.jpg",text:"13. Delhi is the perfect example of an urban jungle with a buzzing nightlife that will enthrall you with some foot-tapping music ",duration:5e3,weight:1},{id:"9caaee5aaaff6a014b9c9e8116a15d85",imageUrl:"https://i.imgur.com/s5xDvCJ.jpg",text:"14. The city houses a mix of many sacred spots like the famous Bangla Sahib Gurudwara and Jama Masjid that are worth a visit ",duration:3e3,weight:2},{id:"5bdfce6d231b54499dfced7846de3855",imageUrl:"https://i.imgur.com/zG9lImF.jpg",text:"15. In the midst of a concrete jungle, Delhi is blessed with green hotspots like Lodi Gardens and The Garden Of Five Senses for a nature stroll ",duration:5e3,weight:3}]);function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=1e3*(e+Math.random()*(t-e));return new Promise((function(e){return setTimeout(e,n)}))}function d(e,t){t?console.log("[API-CALL] ".concat(e),t):console.log("[API-CALL] ".concat(e))}function g(){return d("getStoriesMeta"),{length:s.length,idList:s.map((function(e){return e.id})),weightList:s.map((function(e){return e.weight}))}}function f(e){return b.apply(this,arguments)}function b(){return b=Object(u["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return d("ajaxGetStoryByIdUnstable",{id:t}),e.next=3,l(1,2);case 3:if(!(Math.random()<.5)){e.next=5;break}return e.abrupt("return",!1);case 5:return e.abrupt("return",s.find((function(e){return e.id===t})));case 6:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}var m=f,h=g;Object(r["p"])("data-v-79ac4266");var p={class:"imgBars"},v={class:"buttons"};function j(e,t,n,i,a,o){return Object(r["n"])(),Object(r["g"])(r["a"],null,[i.isMobileDevice?Object(r["f"])("",!0):(Object(r["n"])(),Object(r["g"])("div",{key:0,class:"stop",onClick:t[0]||(t[0]=Object(r["z"])((function(){return i.stopInterval&&i.stopInterval.apply(i,arguments)}),["prevent"]))},Object(r["u"])(i.isStop?"▲":"="),1)),Object(r["h"])("div",p,[(Object(r["n"])(!0),Object(r["g"])(r["a"],null,Object(r["s"])(i.imgArr,(function(e,t){return Object(r["n"])(),Object(r["g"])("div",{class:"imgBar",key:e,style:Object(r["m"])({width:"calc(90% / ".concat(i.imgArr.length,")")})},[Object(r["h"])("div",{style:Object(r["m"])({width:"".concat(1e5*i.time[t]/e.duration,"%")}),class:Object(r["l"])(["imgBar_inner",{ani_progress:i.isAnimated[t]}])},null,6)],4)})),128))]),Object(r["h"])("div",v,[i.isMobileDevice?Object(r["f"])("",!0):(Object(r["n"])(),Object(r["g"])("div",{key:0,class:"button",onClick:t[1]||(t[1]=function(){return i.preImg&&i.preImg.apply(i,arguments)})},"‹")),i.isMobileDevice?(Object(r["n"])(),Object(r["g"])("div",{key:1,class:"mobile_button",onTouchstart:t[2]||(t[2]=function(){return i.preImg&&i.preImg.apply(i,arguments)})},null,32)):Object(r["f"])("",!0),i.isMobileDevice?(Object(r["n"])(),Object(r["g"])("div",{key:2,class:"mobile_button",onTouchstart:t[3]||(t[3]=function(){return i.stopInterval&&i.stopInterval.apply(i,arguments)}),onTouchend:t[4]||(t[4]=function(){return i.stopInterval&&i.stopInterval.apply(i,arguments)})},null,32)):Object(r["f"])("",!0),i.isMobileDevice?(Object(r["n"])(),Object(r["g"])("div",{key:3,class:"mobile_button",onTouchstart:t[5]||(t[5]=function(){return i.nextImg&&i.nextImg.apply(i,arguments)})},null,32)):Object(r["f"])("",!0),i.isMobileDevice?Object(r["f"])("",!0):(Object(r["n"])(),Object(r["g"])("div",{key:4,class:"button",onClick:t[6]||(t[6]=function(){return i.nextImg&&i.nextImg.apply(i,arguments)})},"›"))])],64)}Object(r["o"])();n("ac1f"),n("466d"),n("0706");var O={props:["isMobileDevice"],setup:function(){var e=Object(c["b"])(),t=null,n=Object(r["r"])(!1),i=Object(r["r"])([!0,!0,!0,!0,!0,!0]),a=Object(r["c"])((function(){var e=["Android","webOS","iPhone","iPad","iPod","BlackBerry","Windows Phone"],t=e.some((function(e){return navigator.userAgent.match(e)}));return t})),o=Object(r["r"])([0,0,0,0,0,0]),u=Object(r["c"])((function(){return e.getters.getIsLoading})),s=Object(r["c"])((function(){return e.getters.getNowImg})),l=Object(r["c"])((function(){return e.getters.getImgArr})),d=function n(){t=setInterval((function(){1e3*o.value[s.value]<l.value[s.value].duration?(i.value[s.value]=!0,o.value[s.value]++):(clearInterval(t),e.dispatch("handleIncrease"),n())}),1e3)},g=function(){n.value?d():clearInterval(t),n.value=!n.value},f=function(){e.dispatch("handleIncrease")},b=function(){console.log("hi"),e.dispatch("handleDecrease")};return Object(r["w"])((function(){return u.value}),(function(e){e||d()})),Object(r["w"])((function(){return s.value}),(function(e,t){if(e<t)for(var n=0;n<o.value.length;n++)n>=e&&(o.value[n]=0,i.value[n]=!1);else for(var r=0;r<o.value.length;r++)r<e&&l.value[r]&&(o.value[r]=l.value[r].duration/1e3,i.value[r]=!1)}),{deep:!0}),{imgArr:l,time:o,nextImg:f,preImg:b,isStop:n,isAnimated:i,isMobileDevice:a,stopInterval:g}}};n("d77f");O.render=j,O.__scopeId="data-v-79ac4266";var w=O;Object(r["p"])("data-v-e83ab594");var y={class:"img_container"},I=["src"],x={class:"story__text"};function k(e,t,n,i,a,o){return Object(r["y"])((Object(r["n"])(),Object(r["g"])("div",y,[Object(r["h"])("img",{src:n.img.imageUrl,alt:"旅遊故事"},null,8,I),Object(r["h"])("div",x,Object(r["u"])(n.img.text),1)],512)),[[r["v"],i.nowImg===n.img.index]])}Object(r["o"])();var A={props:["img"],setup:function(){var e=Object(c["b"])(),t=Object(r["c"])((function(){return e.getters.getNowImg}));return{nowImg:t}}};n("819b");A.render=k,A.__scopeId="data-v-e83ab594";var L=A;Object(r["p"])("data-v-c792de74");var _={key:0,class:"frame"},S=Object(r["i"])('<div class="loagingBalls" data-v-c792de74><div class="ball" data-v-c792de74></div><div class="ball" data-v-c792de74></div><div class="ball" data-v-c792de74></div><div class="ball" data-v-c792de74></div><div class="ball" data-v-c792de74></div></div>',1),U=[S];function M(e,t,n,i,a,o){return n.isLoading?(Object(r["n"])(),Object(r["g"])("div",_,U)):Object(r["f"])("",!0)}Object(r["o"])();var D={props:["isLoading"]};n("e2b3");D.render=M,D.__scopeId="data-v-c792de74";var P=D,T={components:{Button:w,Story:L,LoadingFrame:P},setup:function(){var e=Object(c["b"])(),t=Object(r["c"])((function(){return e.getters.getIsLoading})),n=Object(r["c"])((function(){return e.getters.getNowImg})),i=Object(r["c"])((function(){return e.getters.getImgArr})),a=Object(r["c"])((function(){return i.value[n.value]?i.value[n.value].imageUrl:""})),o=h(),u=function t(){e.dispatch("handleImgArr",{array:o.idList,w_arr:o.weightList}).then((function(t){e.dispatch("handleLoading")})).catch((function(e){console.log(e),t()}))};return u(),{nowImg:n,imgUrl:a,imgArr:i,isLoading:t}}};n("83f4");T.render=o;var B=T,N=(n("159b"),function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6,r=[],i=[];t.forEach((function(e){e}));for(var a=0;a<t.length;a++)for(var o=0;o<t[a];o++)r.push(e[a]);while(i.length<n){var c=Math.floor(Math.random()*r.length);-1===i.indexOf(r[c])&&i.push(r[c])}return i}),R=N,C=Object(c["a"])({state:{imgArr:[],nowImg:0,isLoading:!0},actions:{handleImgArr:function(e,t){var n=e.commit,r=function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(r){var i,a,o,c,u,s,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=t.array,a=t.w_arr,o=R(i,a),c=[],u=0,s=0;case 5:if(!(s<o.length)){e.next=25;break}return e.prev=6,e.next=9,m(o[s]);case 9:if(l=e.sent,!l){e.next=16;break}l.index=u,c.push(l),u++,e.next=17;break;case 16:throw new Error("item not get");case 17:e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](6),console.log(e.t0);case 22:s++,e.next=5;break;case 25:if(0!==c.length){e.next=28;break}throw new Error("no item");case 28:return n("setImgArr",c),e.abrupt("return",c);case 30:case"end":return e.stop()}}),e,null,[[6,19]])})));return function(t){return e.apply(this,arguments)}}();return new Promise((function(e,t){r().then((function(t){return e(t)}),(function(e){return t(e)}))}))},handleIncrease:function(e){var t=e.commit;t("setNowImg",1)},handleDecrease:function(e){var t=e.commit;t("setNowImg",-1)},handleLoading:function(e){var t=e.commit;t("setLoadingStatus")}},mutations:{setImgArr:function(e,t){e.imgArr=t},setNowImg:function(e,t){t>0?e.nowImg<e.imgArr.length-1?e.nowImg++:e.nowImg=0:e.nowImg>0?e.nowImg--:e.nowImg=e.imgArr.length-1},setLoadingStatus:function(e){e.isLoading=!1}},getters:{getImgArr:function(e){return e.imgArr},getNowImg:function(e){return e.nowImg},getIsLoading:function(e){return e.isLoading}}});Object(r["d"])(B).use(C).mount("#app")},6971:function(e,t,n){},"819b":function(e,t,n){"use strict";n("d4be")},"83f4":function(e,t,n){"use strict";n("d792")},d4be:function(e,t,n){},d77f:function(e,t,n){"use strict";n("6971")},d792:function(e,t,n){},e2b3:function(e,t,n){"use strict";n("fc19")},fc19:function(e,t,n){}});
//# sourceMappingURL=app.cd068cc6.js.map